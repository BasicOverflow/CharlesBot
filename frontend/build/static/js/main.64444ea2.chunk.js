(this.webpackJsonpcharles_web_app=this.webpackJsonpcharles_web_app||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(7),a=n.n(o),i=(n(12),n(2)),r=(n(13),n(0)),j=function(e){var t=e.title,n=e.page;return Object(r.jsxs)("a",{style:{color:"navy",padding:"5px"},href:n,children:[" ",t," "]})},l=function(){return Object(r.jsxs)("div",{className:"navbar",style:{align:"center"},children:[Object(r.jsx)(j,{page:"#",title:"About"}),Object(r.jsx)(j,{page:"#",title:"How to Use"}),Object(r.jsx)(j,{page:"#",title:"Download Client"})]})},u=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(l,{})})},b=function(e){var t=e.setShiped,n=e.setFirstMsg,c=e.firstMsg;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{children:"Ship Command"}),Object(r.jsx)("input",{type:"text",id:"messageText",onChange:function(e){n(e.target.value)}}),Object(r.jsx)("button",{onClick:function(){fetch("http://10.0.0.129:8004/manualShip/WebClient/".concat(c),{method:"POST",headers:{accept:"application/json",mode:"no-cors"}}).then((function(e){return e.json()})).then((function(e){console.log(JSON.stringify(e))})),t()},children:"Send"})]})},d=n(6),O=n(17),p=function(e){var t=e.firstMsg,n=e.ws,s=e.setShipped,o=Object(c.useState)([{from:"client",content:t}]),a=Object(i.a)(o,2),j=a[0],l=a[1],u=Object(c.useState)([]),b=Object(i.a)(u,2),p=b[0],f=b[1],h=Object(c.useState)(!1),g=Object(i.a)(h,2),m=g[0],x=g[1];return n.onmessage=function(e){var t={from:"WebClient",content:e.data};l([].concat(Object(d.a)(j),[t])),console.log(e.data),e.data.toLowerCase().includes("command completed")&&x(!0)},n.onclose=function(){n.close(),console.log("WebSocket Disconnected")},Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),function(e){var t={from:"WebClient",content:e};n.send(t.content),l([].concat(Object(d.a)(j),[t]))}(p),f([])},children:[Object(r.jsx)("input",{type:"text",placeholder:"Type a message ...",value:p,onChange:function(e){return f(e.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"Send"})]}),j.map((function(e){return Object(r.jsx)("h3",{children:e.content},Object(O.a)())})),m?Object(r.jsx)("button",{onClick:function(){s()},children:"Go Back?"}):Object(r.jsx)(r.Fragment,{})]})},f=function(e){var t=e.ws,n=Object(c.useState)(!1),s=Object(i.a)(n,2),o=s[0],a=s[1],j=Object(c.useState)(""),l=Object(i.a)(j,2),u=l[0],d=l[1];return Object(r.jsx)("div",{className:"container",children:o?Object(r.jsx)(p,{firstMsg:u,ws:t,setShipped:function(){a(!1)}}):Object(r.jsx)(b,{firstMsg:u,setFirstMsg:d,setShiped:function(){a(!0)}})})},h=new WebSocket("ws://10.0.0.129:8004/ws/CommandSessionClient/WebClient");function g(){console.log("app");var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1];return h.onopen=function(){!0===n?(console.log("Connection alread present, closing"),h.close()):(s(!0),console.log("WebSocket Connected"))},h.onclose=function(){return s(!1)},Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(u,{}),Object(r.jsx)("div",{className:"showcase",children:Object(r.jsx)(f,{ws:h})})]})}var m=Object(c.memo)(g),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),o(e),a(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root")),x()}},[[15,1,2]]]);
//# sourceMappingURL=main.64444ea2.chunk.js.map